(this["webpackJsonpcope-frontend"]=this["webpackJsonpcope-frontend"]||[]).push([[1],{118:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var c=n(32),r=n(133),a=n(15),i=n(5),s=n(281),o=n(130),u=n(171),l=n(87),j=n(459),d=(n(282),n(131),n(458),["opens_count","nonunique_opens_count","total_click_count","emails_delivered","unsubscribes","subject","addresses_count"]),b=["created_at"],p=["bulletins_sent","direct","overlay","signup","upload","other","all_network","deleted_subscriptions","new_subscriptions"],f=console.log,O=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t=null===t?{}:t,Object.entries(t).forEach((function(t){var u=Object(i.a)(t,2),l=u[0],j=u[1];Object(o.a)(j)||Object(s.a)(j)?e(j,n,[].concat(Object(a.a)(c),[l]),r):r[[].concat(Object(a.a)(c),[l]).join(n)]=j})),r},_=[function(){return{}},function(e){return e},function(e,t){var n=e.created_at,a=t.created_at,i=Object(r.a)(t,b),s=new Date(n).getTime(),o=new Date(a).getTime(),u=Math.abs((o-s)/864e5);return Object(c.a)({days_gap:isNaN(u)?null:u>30?30:~~u,created_at:a},i)}],h=Object(u.a)(Object(l.a)((function(e){return O(e)})),Object(l.a)((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(e).forEach((function(e){var c=Object(i.a)(e,2),r=c[0],a=c[1],s=r.split(t).slice(-1);n[s]=a})),n}(e)})));Object(u.a)(h,Object(l.a)((function(e){var t=e.opens_count,n=e.nonunique_opens_count,a=e.total_click_count,i=e.emails_delivered,s=e.unsubscribes,o=e.subject,u=void 0===o?"":o,l=e.addresses_count,j=Object(r.a)(e,d),b=~~((t+a)/i*100),p=u.split(" ").length,f=s/i*100,O=a+n;return Object(c.a)(Object(c.a)(Object(c.a)({emails_sent:l},e),{},{unsubscribes:s,unsubscribe_rate:f,engagement_rate:b,impressions:O,avg_impressions:O,opens_count:n,unique_opens_count:t,addresses_count:l},p&&{subject_words:p}),j)})),Object(j.a)(_)),Object(u.a)(h,Object(l.a)((function(e){var t=e.bulletins_sent,n=e.direct,a=e.overlay,i=e.signup,s=e.upload,o=e.other,u=e.all_network,l=e.deleted_subscriptions,j=e.new_subscriptions,d=Object(r.a)(e,p);return Object(c.a)({bulletins_sent:t,new_topic_subscriptions:j,subscriptions:~~(j/t),deleted:-~~(l/t),network:~~(u/t),direct:~~(n/t),upload:~~(s/t),overlay:~~(a/t),signup:~~(i/t),other:~~(o/t)},d)})))},252:function(e,t){},253:function(e,t,n){"use strict";n(125),n(126);var c=n(127);n.n(c).a.config();Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AMP_URL,Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AMP_KEY},305:function(e,t){},307:function(e,t){},317:function(e,t){},319:function(e,t){},346:function(e,t){},348:function(e,t){},349:function(e,t){},354:function(e,t){},356:function(e,t){},362:function(e,t){},364:function(e,t){},383:function(e,t){},395:function(e,t){},398:function(e,t){},422:function(e,t){},451:function(e,t,n){var c={"./amplify-amazon-button_5.entry.js":[462,12],"./amplify-auth-container.entry.js":[463,13],"./amplify-auth-fields_9.entry.js":[464,14],"./amplify-authenticator.entry.js":[465,6],"./amplify-button_3.entry.js":[466,15],"./amplify-chatbot.entry.js":[489,5],"./amplify-checkbox.entry.js":[467,16],"./amplify-confirm-sign-in_7.entry.js":[468,7],"./amplify-container.entry.js":[469,17],"./amplify-federated-buttons_2.entry.js":[470,18],"./amplify-federated-sign-in.entry.js":[471,19],"./amplify-form-field_4.entry.js":[472,20],"./amplify-greetings.entry.js":[473,21],"./amplify-icon-button.entry.js":[474,22],"./amplify-icon.entry.js":[475,8],"./amplify-link.entry.js":[476,23],"./amplify-nav_2.entry.js":[477,24],"./amplify-photo-picker.entry.js":[478,25],"./amplify-picker.entry.js":[479,26],"./amplify-radio-button_3.entry.js":[480,9],"./amplify-s3-album.entry.js":[481,0,27],"./amplify-s3-image-picker.entry.js":[482,0,28],"./amplify-s3-image.entry.js":[483,0,29],"./amplify-s3-text-picker.entry.js":[484,0,30],"./amplify-s3-text.entry.js":[485,0,31],"./amplify-select-mfa-type.entry.js":[486,32],"./amplify-sign-in-button.entry.js":[487,10],"./amplify-tooltip.entry.js":[488,33]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(c)},r.id=451,e.exports=r},452:function(e,t,n){"use strict";n.r(t);var c,r,a,i,s,o=n(4),u=n.n(o),l=n(267),j=n.n(l),d=n(514),b=n(510),p=Object(b.a)({palette:{primary:{main:"hsl(213 65% 19%)"},secondary:{main:"hsl(199deg 19% 36%)"},accent:{main:"hsl(186deg 100% 29%)"}}}),f=n(2),O=n(5),_=n(513),h=n(169),g=n(23),y=n(35),m=n(0),v=n(58),x=n(32),w=n(9),E=n(515),P=n(118),D=(c=y.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(Date.now()),n=Object(o.useState)(null),r=Object(O.a)(n,2),a=r[0],i=r[1],s=new E.a(c,e);return s.addWatch(t,(function(e,t,n){Object(P.a)("".concat(e," cursor triggered"),{state:a}),i(n)})),[a,s]}),S=n(3),T=n.n(S),A=n(84),C=(n(1),n(511),n(86),Object(o.createContext)({run$:g.c,useCursor:D,$store$:y.a,parse:w.b,DefaultView:$,page:null,loading:!0,path:[]})),R=n(6),k=function(e){var t=e.data,n=void 0===t?[]:t;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Page 1"}),Object(R.jsx)("pre",{children:JSON.stringify(n,null,2)})]})})},L=function(e){var t=e.children;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Page 2"}),t]})})},U=function(e){var t=e.children;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Page 3"}),t]})})},N=function(e){var t=e.children,n=e.CFG,c=void 0===n?{}:n,r=c[m.g]||k,a=c[m.f],i=Object.values(m.e)||[],s=a[m.A]||null,o=Object(w.c)(i,c),u=Object(O.a)(o,2)[1],l=/[-/\\^$*+?.()|[\]{}]/g,j=s?new RegExp((s||"").replace(l,"\\$&"),"g"):null;if(!a)throw new Error("no `".concat(m.f,"`: router found in Provider CFG"));return Object(y.d)(a),Object(v.log)("$store$.deref():",y.a.deref()),Object(R.jsx)(C.Provider,{value:Object(x.a)({run$:g.c,useCursor:D,$store$:y.a,parse:function(){return Object(w.b)(window.location.href,j)},DefaultView:r},u),children:t})},F=Object(g.b)(y.c),H=function(e){var t=e.to,n=e.children,c=Object(o.useContext)(C).run$,r="/".concat(t);return Object(R.jsx)("a",{href:r,onClick:function(e){e.preventDefault(),c.next(Object(x.a)(Object(x.a)({},F),{},{args:e}))},children:n})},$=function(e){var t=e.data,n=JSON.stringify(t,null,2);return Object(R.jsx)("pre",{children:n})},q=function(e){var t=e.children;return Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{style:{minHeight:"100vh"},children:Object(R.jsxs)("div",{style:{minHeight:"100vh"},children:[Object(R.jsx)(V,{}),Object(R.jsxs)("ul",{children:[Object(R.jsx)(H,{to:"page1",children:"page1"}),Object(R.jsx)(H,{to:"page2",children:"page2"}),Object(R.jsx)(H,{to:"page3",children:"page3"})]}),Object(R.jsx)("div",{style:{padding:"0 24px",minHeight:280,overflow:"hidden"},children:t})]})}),Object(R.jsx)("div",{style:{textAlign:"center"},children:"\xa92021 US Census Bureau Civic Digital Fellows Team: Tommy Nguyen | Logan Powell"})]})},K=n(458),z=function(){var e=Object(o.useContext)(C),t=e.$store$,n=e.useCursor,c=n([m.d],"View Page"),r=Object(O.a)(c,2),a=r[0],i=r[1],s=n([m.b],"View loading"),u=Object(O.a)(s,2),l=u[0],j=u[1],d=n([m.c],"Route Path"),b=Object(O.a)(d,2),p=b[0],f=b[1];Object(o.useLayoutEffect)((function(){return console.log("re-rendered Page:",{loading:l,page:a,path:p}),console.log("store:",t.deref()),function(){j.release(),f.release(),i.release()}}),[a,i,p,f,l,j,t]);var _=t.deref(),h=Object(R.jsx)("div",{className:"spinner_container",children:Object(R.jsx)("div",{className:"spinner",children:Object(R.jsx)("h1",{children:" fetching data... "})})}),g={home:k,page1:k,page2:L,page3:U}[a]||function(){return h},y=0===_[m.c].length;return null===l?Object(R.jsx)("div",{children:"initializing.. "}):!0===l?h:Object(R.jsx)(g,{data:y?Object(K.a)(_,["data"]):Object(K.a)(_,p)})},I=n(109),M=n(110),W=M.a.header(r||(r=Object(I.a)(["\n    position: sticky;\n    width: 100%;\n    top: 0;\n    box-shadow: 0px 1px 3px;\n"]))),G=M.a.div(a||(a=Object(I.a)(["\n    display: flex;\n    justify-content: space-between;\n    min-width: 800px;\n    max-width: 1440px;\n    padding: 0 12px;\n    margin: 0 auto;\n"]))),J=M.a.ul(i||(i=Object(I.a)(["\n    display: flex;\n    margin: 0;\n    list-style: none;\n"]))),B=Object(M.a)(H)(s||(s=Object(I.a)(["\n  font-size: 1rem;\n  display: inline-flex;\n  padding: 16px 20px;\n  align-items: center;\n  text-decoration: none;\n\n  &:hover,\n  &:active,\n  &:focus {\n      text-decoration: underline;\n    }\n  }\n"])));function V(){return Object(R.jsx)(W,{children:Object(R.jsxs)(G,{children:[Object(R.jsx)("nav",{children:Object(R.jsx)(J,{children:Object(R.jsx)("li",{children:Object(R.jsx)(B,{to:"/collections",children:"Contents"})})})}),Object(R.jsx)(_.b,{})]})})}var Y,Q=n(512),X=n(65),Z=function(){var e=Object(A.a)(T.a.mark((function e(t){var n,c,r,a,i,s,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.b)(t),a.URL_DOMN,a.URL_FULL,a.URL_HASH,a.URL_PATH,a.URL_QERY,a.URL_SUBD,a[m.J],Object(v.log)(JSON.stringify(a,null,2)),i=new Q.a([[Object(x.a)(Object(x.a)({},a),{},Object(f.a)({},m.J,[])),(n={},Object(f.a)(n,m.E,Object(A.a)(T.a.mark((function e(){var t,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.c.list({type:X.a.NodeType.A_GEM,status:X.a.NodeStatus.DRAFT});case 2:return c=e.sent,e.abrupt("return",(n={},Object(f.a)(n,m.o,(t={},Object(f.a)(t,m.s,"COPE frontend"),Object(f.a)(t,m.t,"COPE frontend tinkering"),t)),Object(f.a)(n,m.n,{data:c}),n));case 4:case"end":return e.stop()}}),e)})))),Object(f.a)(n,m.I,"home"),n)],[Object(x.a)(Object(x.a)({},a),{},{URL_PATH:["page1"]}),{URL_DATA:function(){var e=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.c.list({owner:"PostConfirmTriggerLambda"});case 2:return t=e.sent,e.abrupt("return",{DOM_HEAD:{title:"Page 1",og_description:"Description for Open Graph/sharing"},DOM_BODY:{data:t}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),URL_PAGE:"page1"}]]).get(a)||(c={},Object(f.a)(c,m.E,(function(){return 404})),Object(f.a)(c,m.I,"test"),c),e.next=7,i[m.E]();case 7:return s=e.sent,o=i[m.I],Object(v.log)("routed:",{page:o,data:s}),e.abrupt("return",(r={},Object(f.a)(r,m.D.DATA,s),Object(f.a)(r,m.D.PAGE,o),r));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(g.b)(y.b),te=(Y={},Object(f.a)(Y,m.f,Z),Object(f.a)(Y,m.y,ee),Y);Object(g.b)(y.b);Object(v.log)("registered Commands:",g.a.topics.entries()),Object(v.log)("starting...");var ne=function(){var e=u.a.useState(),t=Object(O.a)(e,2),n=t[0],c=t[1],r=u.a.useState(),a=Object(O.a)(r,2),i=a[0],s=a[1];return u.a.useEffect((function(){return Object(h.b)((function(e,t){c(e),s(t)}))}),[]),n===h.a.SignedIn&&i?Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(N,{CFG:Object(f.a)({},m.f,te),children:Object(R.jsx)(q,{children:Object(R.jsx)(z,{})})}),Object(R.jsx)(_.b,{})]}):Object(R.jsx)(_.a,{children:Object(R.jsx)(_.c,{slot:"sign-up",formFields:[{type:"username",placeholder:"john@email.com",required:!0,label:"Email Address"},{type:"password",required:!0}]})})},ce={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:5eb24d32-7dcf-4eec-b2cf-3ccb80538edb",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_pDcWh9rz6",aws_user_pools_web_client_id:"119jhi81t735520srasmqrjsf5",oauth:{},aws_cloud_logic_custom:[{name:"AdminQueries",endpoint:"https://nj59fniim5.execute-api.us-east-1.amazonaws.com/dev",region:"us-east-1"}],aws_appsync_graphqlEndpoint:"https://ug3flqmddnbevnzihtnbxfw464.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-pnoc2ogp6fc47oiletkzyoad7e",aws_appsync_dangerously_connect_to_http_endpoint_for_testing:!0};Object(X.b)(ce),j.a.render(Object(R.jsx)(d.a,{theme:p,children:Object(R.jsx)(ne,{})}),document.getElementById("root"))},58:function(e,t,n){"use strict";var c=n(118);n.d(t,"log",(function(){return c.a}));n(252),n(253)}},[[452,3,4]]]);
//# sourceMappingURL=main.9a2011bc.chunk.js.map